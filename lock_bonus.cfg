SPECIFICATION Spec

\* BONUS QUESTION Configuration
\* This uses Spec (WITHOUT fairness) to allow TLC to explore all possible schedules
\* including optimal ones that avoid deadlocks

\* Constants for the minimal configuration that shows deadlocks with fairness
CONSTANTS
    NumLocks = 2
    NumShips = 3
    MaxShipsLocation = 2
    MaxShipsLock = 1

\* Safety Properties (Invariants)
INVARIANTS
  TypeOK
  MessagesOK
  DoorsMutex
  DoorsOpenValvesClosed
  DoorsOpenWaterlevelRight
  MaxShipsPerLocation
  AllShipsCannotReachGoal

\* NOTE: AllShipsCannotReachGoal should FAIL (invariant violation)
\* The counterexample trace shows a deadlock-avoiding schedule
\* where all ships successfully reach "goal_reached" status
